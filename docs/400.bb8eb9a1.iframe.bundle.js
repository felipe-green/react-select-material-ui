"use strict";(self.webpackChunkreact_select_material_ui=self.webpackChunkreact_select_material_ui||[]).push([[400],{"./src/ReactSelectMaterialUi.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>src_ReactSelectMaterialUi});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),react=__webpack_require__("./node_modules/react/index.js"),FormControl=__webpack_require__("./node_modules/@mui/material/FormControl/FormControl.js"),isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),filter=__webpack_require__("./node_modules/lodash/filter.js"),filter_default=__webpack_require__.n(filter),find=__webpack_require__("./node_modules/lodash/find.js"),find_default=__webpack_require__.n(find),flatMap=__webpack_require__("./node_modules/lodash/flatMap.js"),flatMap_default=__webpack_require__.n(flatMap),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArray_default=__webpack_require__.n(isArray),isEmpty=__webpack_require__("./node_modules/lodash/isEmpty.js"),isEmpty_default=__webpack_require__.n(isEmpty),isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isFunction_default=__webpack_require__.n(isFunction),isNil=__webpack_require__("./node_modules/lodash/isNil.js"),isNil_default=__webpack_require__.n(isNil),isString=__webpack_require__("./node_modules/lodash/isString.js"),isString_default=__webpack_require__.n(isString),map=__webpack_require__("./node_modules/lodash/map.js"),map_default=__webpack_require__.n(map),reject=__webpack_require__("./node_modules/lodash/reject.js"),reject_default=__webpack_require__.n(reject),size=__webpack_require__("./node_modules/lodash/size.js"),size_default=__webpack_require__.n(size),some=__webpack_require__("./node_modules/lodash/some.js"),some_default=__webpack_require__.n(some),lodash_toString=__webpack_require__("./node_modules/lodash/toString.js"),toString_default=__webpack_require__.n(lodash_toString),react_select_esm=__webpack_require__("./node_modules/react-select/dist/react-select.esm.js"),react_select_creatable_esm=__webpack_require__("./node_modules/react-select/creatable/dist/react-select-creatable.esm.js"),styleIndicatorsContainer={position:"absolute",right:0,marginLeft:8,marginRight:-25,backgroundColor:"transparent",height:"100%"},styleClearIndicator=function(base){return{color:"#ff4040",margin:"0 4px 0 0",padding:0,cursor:"pointer","&:hover":{color:"#d00000"}}},styleDropdownIndicator={margin:"0 0 0 4px",padding:0,cursor:"pointer"},styleMenuList={padding:0},styleNoOptionsMessage={textAlign:"left",color:"#ff8080"},styleMultiValueRemove=function(){var isDisabled=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(base){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},base),{},{display:isDisabled?"none":base.display})}},styleValueContainer=function(){var isClearable=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{padding:0,marginRight:isClearable?25:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},getStyles=function(props){var customStyles=(null==props?void 0:props.styles)||{},isDisabled=null!=props&&!!props.isDisabled,isClearable=null!=props&&!!props.isClearable;return(0,objectSpread2.Z)((0,objectSpread2.Z)({},customStyles),{},{control:mixStyle({background:"transparent",borderWidth:0,borderBottomStyle:"solid",borderBottomWidth:1,borderRadius:0,boxShadow:"none",marginTop:8,marginRight:25,"&:hover":{boxShadow:"none",backgroundPosition:"0 100%",backgroundRepeat:"no-repeat",backgroundSize:"100% 1px",transition:"background-size .2s"}},customStyles.control),clearIndicator:mixStyle(styleClearIndicator,customStyles.clearIndicator),dropdownIndicator:mixStyle(styleDropdownIndicator,customStyles.dropdownIndicator),indicatorsContainer:mixStyle(styleIndicatorsContainer,customStyles.indicatorsContainer),menuList:mixStyle(styleMenuList,customStyles.menuList),multiValueRemove:mixStyle(styleMultiValueRemove(isDisabled),customStyles.multiValueRemove),noOptionsMessage:mixStyle(styleNoOptionsMessage,customStyles.noOptionsMessage),valueContainer:mixStyle(styleValueContainer(isClearable),customStyles.valueContainer)})},mixStyle=function(customStyle,styleFn){return function(base,props){return(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},base),"function"==typeof customStyle?customStyle(base,props):customStyle),styleFn?styleFn(base,props):{})}},components={SingleValue:function MySingleValue(props){var children=props.children,className=props.className;return react.createElement("div",{className:className?"".concat(className," MuiFormLabel-root"):"MuiFormLabel-root"},children)}},SelectDropdown=function(_Component){(0,inherits.Z)(SelectDropdown,_Component);var _super=(0,createSuper.Z)(SelectDropdown);function SelectDropdown(){var _this;(0,classCallCheck.Z)(this,SelectDropdown);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).noOptionsMessage=function(obj){var selectProps=_this.props.selectProps;if(isNil_default()(selectProps))return null;if(isEmpty_default()(obj)||isEmpty_default()(obj.inputValue))return selectProps.msgNoOptionsAvailable||"No more options are available";var inputValue=obj.inputValue;return!0!==selectProps.isCreatable||_this.containsValue(inputValue)||_this.containsOptions(inputValue)?selectProps.msgNoOptionsMatchFilter||"No options match the filter":selectProps.msgNoValidValue||"The new value is not valid (contains space)"},_this.isValidNewOption=function(inputValue){return!(isEmpty_default()(inputValue)||_this.containsOptions(inputValue))&&!1===SelectDropdown.spaces.test(inputValue)},_this}return(0,createClass.Z)(SelectDropdown,[{key:"render",value:function render(){var _this$props=this.props,inputId=_this$props.inputId,placeholder=_this$props.placeholder,onChange=_this$props.onChange,onFocus=_this$props.onFocus,onBlur=_this$props.onBlur,options=_this$props.options,selectProps=_this$props.selectProps,value=_this$props.value,styles=getStyles(selectProps),comps=null!=selectProps&&selectProps.components?(0,objectSpread2.Z)((0,objectSpread2.Z)({},components),null==selectProps?void 0:selectProps.components):components;return null!=selectProps&&selectProps.isCreatable?react.createElement(react_select_creatable_esm.Z,Object.assign({inputId:inputId,isValidNewOption:this.isValidNewOption,captureMenuScroll:!1,createOptionPosition:"first"},selectProps,{value:value,placeholder:placeholder,options:options,styles:styles,noOptionsMessage:this.noOptionsMessage,onChange:onChange,onFocus:onFocus,onBlur:onBlur,components:comps})):react.createElement(react_select_esm.ZP,Object.assign({inputId:inputId,captureMenuScroll:!1},selectProps,{value:value,placeholder:placeholder,options:options,styles:styles,noOptionsMessage:this.noOptionsMessage,onChange:onChange,onFocus:onFocus,onBlur:onBlur,components:comps}))}},{key:"containsOptions",value:function containsOptions(inputValue){var _this2=this;return some_default()(this.props.options,function(option){return _this2.equalsIgnoringCase(inputValue,option.value)})}},{key:"containsValue",value:function containsValue(inputValue){var _this3=this,value=this.props.value;return!1!==isArray_default()(value)&&some_default()(value,function(option){return _this3.equalsIgnoringCase(inputValue,option.value)})}},{key:"equalsIgnoringCase",value:function equalsIgnoringCase(a,b){return 0===a.localeCompare(toString_default()(b),void 0,SelectDropdown.SENSITIVITY)}}]),SelectDropdown}(react.Component);SelectDropdown.spaces=/\s/,SelectDropdown.SENSITIVITY={sensitivity:"base"};var FormHelperText=__webpack_require__("./node_modules/@mui/material/FormHelperText/FormHelperText.js");function SelectHelperText(props){var id=props.id,helperText=props.helperText,formHelperTextProps=props.formHelperTextProps;return isEmpty_default()(helperText)?null:react.createElement(FormHelperText.Z,Object.assign({id:id,variant:"standard"},formHelperTextProps),helperText)}var InputLabel=__webpack_require__("./node_modules/@mui/material/InputLabel/InputLabel.js");let src_SelectLabel=function(props){var inputId=props.inputId,label=props.label,shrink=props.shrink,inputLabelProps=props.inputLabelProps;return isEmpty_default()(label)?null:react.createElement(InputLabel.Z,Object.assign({},inputLabelProps,{htmlFor:inputId,shrink:shrink,variant:"standard"}),label)};var _excluded=["autoComplete","autoFocus","children","className","defaultValue","defaultValues","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","values","options","variant"];function forceMinWidth(label){return react.createElement("span",{style:{fontSize:"110%",height:0,paddingRight:35,visibility:"hidden"}},label)}let src_ReactSelectMaterialUi=function(_PureComponent){(0,inherits.Z)(ReactSelectMaterialUi,_PureComponent);var _super=(0,createSuper.Z)(ReactSelectMaterialUi);function ReactSelectMaterialUi(props){(0,classCallCheck.Z)(this,ReactSelectMaterialUi),(_this=_super.call(this,props)).getFinalValue=function(isMulti,value,values,defaultValue,defaultValues){return isMulti?_this.getFirstNonUndefined(values,defaultValues):_this.getFirstNonUndefined(value,defaultValue)},_this.getFirstNonUndefined=function(a,b){return!1===isNil_default()(a)?a:!1===isNil_default()(b)?b:void 0},_this.getSelectedOption=function(options,value){return isNil_default()(value)?void 0:_this.getOneOrMoreSelectOptions(options,value)},_this.getOptionForValue=function(options){return function(value){var option=find_default()(options,_this.matchOptionValue(value));if(!1===isNil_default()(option))return _this.getSelectOption(option);var subOptions=filter_default()(options,_this.hasSubOptions);if(!isEmpty_default()(subOptions))return _this.getOptionForValue(flatMap_default()(subOptions,_this.getSubOption))(value)}},_this.matchOptionValue=function(value){return function(option){return isString_default()(option)?value===option:isEqual_default()(value,option.value)}},_this.hasSubOptions=function(option){return!1===isString_default()(option)&&isArray_default()(option.options)},_this.getSubOption=function(option){return option.options},_this.handleChangeSelect=function(newValue){var _this$props=_this.props,onChange=_this$props.onChange;_this$props.value,_this$props.values,_this.setState({filter:"",selectedOption:newValue}),isFunction_default()(onChange)&&onChange(_this.getValues(newValue),null===newValue?void 0:newValue)},_this.handleGotFocus=function(event){_this.setState({hasInputFocus:!0});var onFocus=_this.props.onFocus;isFunction_default()(onFocus)&&onFocus(event)},_this.handleLostFocus=function(event){_this.setState({hasInputFocus:!1});var onBlur=_this.props.onBlur;isFunction_default()(onBlur)&&onBlur(event)};var _this,_defaultValue=props.defaultValue,_defaultValues=props.defaultValues,SelectProps=props.SelectProps,_value=props.value,_values=props.values,finalValue=_this.getFinalValue(null==SelectProps?void 0:SelectProps.isMulti,_value,_values,_defaultValue,_defaultValues);return _this.state={filter:"",hasInputFocus:!1,selectedOption:_this.getSelectedOption(props.options,finalValue)},_this}return(0,createClass.Z)(ReactSelectMaterialUi,[{key:"getOneOrMoreSelectOptions",value:function getOneOrMoreSelectOptions(options,value){if(isArray_default()(value)){var foundOptions=reject_default()(map_default()(value,this.getOptionForValue(options)),isNil_default());return 0===foundOptions.length?void 0:foundOptions}return this.getOptionForValue(options)(value)}},{key:"getOptions",value:function getOptions(options){return map_default()(options,this.getSelectOption)}},{key:"getSelectOption",value:function getSelectOption(option){return isString_default()(option)?{label:option,value:option}:option}},{key:"render",value:function render(){var _this$props2=this.props,className=(_this$props2.autoComplete,_this$props2.autoFocus,_this$props2.children,_this$props2.className),disabled=(_this$props2.defaultValue,_this$props2.defaultValues,_this$props2.disabled),error=_this$props2.error,FormHelperTextProps=_this$props2.FormHelperTextProps,fullWidth=_this$props2.fullWidth,helperText=_this$props2.helperText,id=_this$props2.id,InputLabelProps=_this$props2.InputLabelProps,label=(_this$props2.inputRef,_this$props2.label),placeholder=(_this$props2.multiline,_this$props2.name,_this$props2.onBlur,_this$props2.onChange,_this$props2.onFocus,_this$props2.placeholder),required=_this$props2.required,SelectProps=(_this$props2.rows,_this$props2.select,_this$props2.SelectProps),value=(_this$props2.type,_this$props2.value),values=_this$props2.values,options=_this$props2.options,other=(_this$props2.variant,(0,objectWithoutProperties.Z)(_this$props2,_excluded)),helperTextId=id&&helperText?"".concat(id,"-helper-text"):void 0,_this$state=this.state,hasInputFocus=_this$state.hasInputFocus,selectedOption=_this$state.selectedOption,propIsMulti=(null==SelectProps?void 0:SelectProps.isMulti)===!0,onlyValue=propIsMulti?values:value,finalValue=this.getFinalValue(propIsMulti,value,values),dropdownOption=selectedOption;if(null===onlyValue)dropdownOption=null;else if(isArray_default()(onlyValue)&&isEmpty_default()(onlyValue))dropdownOption=null;else if(void 0!==finalValue){var foundOptions=this.getSelectedOption(options,finalValue);foundOptions&&(dropdownOption=foundOptions)}var isClearable=!0===(null==SelectProps?void 0:SelectProps.isClearable)&&this.isClearable(dropdownOption),isDisabled=disabled||!!SelectProps&&SelectProps.isDisabled,selectPlaceholder=label?"":placeholder,shrink=this.isShrinked(dropdownOption);return react.createElement(FormControl.Z,Object.assign({"aria-describedby":helperTextId,className:className,error:error,fullWidth:fullWidth,required:required},other),react.createElement(src_SelectLabel,{inputId:id,label:label,shrink:shrink,hasInputFocus:hasInputFocus,inputLabelProps:InputLabelProps}),react.createElement(SelectDropdown,{inputId:id,value:dropdownOption,placeholder:selectPlaceholder,options:this.getOptions(options),selectProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},SelectProps),{},{isClearable:isClearable,isDisabled:isDisabled}),hasInputFocus:hasInputFocus,onChange:this.handleChangeSelect,onFocus:this.handleGotFocus,onBlur:this.handleLostFocus}),fullWidth?void 0:forceMinWidth(label),react.createElement(SelectHelperText,{id:helperTextId,helperText:helperText,formHelperTextProps:FormHelperTextProps}))}},{key:"isShrinked",value:function isShrinked(option){return!!this.isShrinkable()||(isArray_default()(option),!1===isEmpty_default()(option))}},{key:"isShrinkable",value:function isShrinkable(){return this.hasInputFocus()||this.hasFilter()}},{key:"isClearable",value:function isClearable(option){return!this.props.disabled&&(isArray_default()(option)?size_default()(option)>=2:!1===isEmpty_default()(option))}},{key:"hasInputFocus",value:function hasInputFocus(){return!0===this.state.hasInputFocus}},{key:"hasFilter",value:function hasFilter(){return!1===isEmpty_default()(this.state.filter)}},{key:"getValues",value:function getValues(value){return isNil_default()(value)?null:isArray_default()(value)?map_default()(value,this.getValue):this.getValue(value)}},{key:"getValue",value:function getValue(option){return option.value}}]),ReactSelectMaterialUi}(react.PureComponent)}}]);